---
import { Footer } from "@/components/Footer";
import { Navbar } from "@/components/Navbar";
import Layout from "@/layouts/Layout.astro";
---

<Layout title="Privacy Policy - GeoStorm" description="Privacy policy for the GeoStorm website and software.">
	<Navbar client:load />
	<main class="pt-32 pb-20 md:pt-44 md:pb-32">
		<div class="mx-auto max-w-3xl px-6">
			<h1 class="mb-4 text-4xl font-extrabold tracking-tight md:text-5xl">Privacy Policy</h1>
			<p class="mb-12 text-lg text-muted-foreground">
				Last updated: February 2025
			</p>

			<div class="prose-invert space-y-12">
				<!-- Website Privacy -->
				<section>
					<h2 class="mb-4 text-2xl font-bold">This Website</h2>
					<p class="mb-4 text-muted-foreground leading-relaxed">
						The GeoStorm website is a static site hosted on <a href="https://www.netlify.com/" target="_blank" rel="noopener noreferrer" class="font-medium text-primary underline decoration-primary/30 underline-offset-4 transition-colors hover:text-primary/80">Netlify</a>. We prioritize your privacy:
					</p>
					<ul class="space-y-3 text-muted-foreground">
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							<span><strong class="text-foreground">No cookies.</strong> This website does not set any cookies.</span>
						</li>
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							<span><strong class="text-foreground">No tracking scripts.</strong> We do not use Google Analytics, Facebook Pixel, or any other tracking or analytics tools.</span>
						</li>
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							<span><strong class="text-foreground">No data collection.</strong> We do not collect, store, or process any personal information through this website.</span>
						</li>
					</ul>
					<p class="mt-4 text-sm text-muted-foreground leading-relaxed">
						Netlify may collect standard server access logs (IP addresses, timestamps, pages requested) as part of hosting infrastructure. This is standard CDN behavior and is governed by <a href="https://www.netlify.com/privacy/" target="_blank" rel="noopener noreferrer" class="font-medium text-primary underline decoration-primary/30 underline-offset-4 transition-colors hover:text-primary/80">Netlify's privacy policy</a>.
					</p>
				</section>

				<hr class="border-border/50" />

				<!-- GeoStorm Software Privacy -->
				<section>
					<h2 class="mb-4 text-2xl font-bold">GeoStorm Software</h2>
					<p class="mb-6 text-muted-foreground leading-relaxed">
						The GeoStorm software collects minimal, anonymous telemetry to help us understand whether the project is being used. Here's exactly what is collected.
					</p>

					<h3 class="mb-3 text-lg font-semibold">What we collect</h3>
					<p class="mb-4 text-muted-foreground leading-relaxed">
						Two anonymous events, each with <strong class="text-foreground">zero properties</strong>:
					</p>
					<div class="mb-6 overflow-hidden rounded-lg border border-border/50">
						<table class="w-full text-sm">
							<thead>
								<tr class="border-b border-border/50 bg-muted/50">
									<th class="px-4 py-3 text-left font-semibold">Event</th>
									<th class="px-4 py-3 text-left font-semibold">When it fires</th>
								</tr>
							</thead>
							<tbody class="text-muted-foreground">
								<tr class="border-b border-border/50">
									<td class="px-4 py-3"><code class="rounded bg-muted px-1.5 py-0.5 text-xs font-medium text-foreground">server_started</code></td>
									<td class="px-4 py-3">Once when the GeoStorm server starts</td>
								</tr>
								<tr>
									<td class="px-4 py-3"><code class="rounded bg-muted px-1.5 py-0.5 text-xs font-medium text-foreground">run_completed</code></td>
									<td class="px-4 py-3">Once when a monitoring run finishes</td>
								</tr>
							</tbody>
						</table>
					</div>

					<h3 class="mb-3 text-lg font-semibold">What we do NOT collect</h3>
					<ul class="mb-6 space-y-2 text-muted-foreground">
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							No IP addresses (explicitly disabled on every request)
						</li>
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							No geolocation (GeoIP is disabled on the PostHog client)
						</li>
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							No project names, URLs, or descriptions
						</li>
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							No search terms or monitoring queries
						</li>
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							No run results, scores, or alert data
						</li>
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							No API keys or credentials
						</li>
						<li class="flex items-start gap-3">
							<span class="mt-1.5 block h-1.5 w-1.5 shrink-0 rounded-full bg-primary"></span>
							No personally identifiable information of any kind
						</li>
					</ul>

					<h3 class="mb-3 text-lg font-semibold">The only identifier</h3>
					<p class="mb-6 text-muted-foreground leading-relaxed">
						The sole identifier is a <strong class="text-foreground">random UUID</strong> generated once and stored locally in your database. It is not tied to any person, organization, email, hostname, or machine fingerprint. Its only purpose is to let PostHog count unique servers.
					</p>

					<h3 class="mb-3 text-lg font-semibold">How to opt out</h3>
					<p class="mb-4 text-muted-foreground leading-relaxed">
						Set the environment variable <code class="rounded bg-muted px-1.5 py-0.5 text-sm font-medium text-foreground">NO_TELEMETRY=true</code> to completely disable all analytics. When this flag is set, no PostHog client is created and no events are sent.
					</p>
					<div class="overflow-hidden rounded-lg border border-border/50 bg-card">
						<div class="border-b border-border/50 bg-muted/50 px-4 py-2">
							<span class="font-mono text-xs text-muted-foreground">bash</span>
						</div>
						<pre class="overflow-x-auto p-4 font-mono text-sm"><code># Docker
docker run -e NO_TELEMETRY=true ...

# .env file
NO_TELEMETRY=true</code></pre>
					</div>

					<h3 class="mt-6 mb-3 text-lg font-semibold">Third-party services</h3>
					<p class="text-muted-foreground leading-relaxed">
						Anonymous events are sent to <a href="https://posthog.com" target="_blank" rel="noopener noreferrer" class="font-medium text-primary underline decoration-primary/30 underline-offset-4 transition-colors hover:text-primary/80">PostHog</a>. No user data goes between your server and PostHog beyond the event name and the random UUID.
					</p>
				</section>
			</div>
		</div>
	</main>
	<Footer />
</Layout>
